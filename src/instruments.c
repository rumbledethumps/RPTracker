
#include <rp6502.h>
#include <stdint.h>
#include "instruments.h"

// Auto-generated Standard Bank (AdLib Compatible)
const OPL_Patch gm_bank[128] = {
    [0] = { .m_ave=0x01, .m_ksl=0x4B, .m_atdec=0xF1, .m_susrel=0x50, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xD2, .c_susrel=0x76, .c_wave=0x00, .feedback=0x06 },
    [1] = { .m_ave=0x13, .m_ksl=0x50, .m_atdec=0xF1, .m_susrel=0x50, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xD2, .c_susrel=0x76, .c_wave=0x00, .feedback=0x06 },
    [2] = { .m_ave=0x13, .m_ksl=0x53, .m_atdec=0xF1, .m_susrel=0x54, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xD2, .c_susrel=0x76, .c_wave=0x00, .feedback=0x06 },
    [3] = { .m_ave=0x53, .m_ksl=0x4E, .m_atdec=0xF1, .m_susrel=0x00, .m_wave=0x00, .c_ave=0x51, .c_ksl=0x00, .c_atdec=0xD2, .c_susrel=0x86, .c_wave=0x00, .feedback=0x06 },
    [4] = { .m_ave=0x2C, .m_ksl=0xD4, .m_atdec=0xF9, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0xA1, .c_ksl=0x00, .c_atdec=0xC1, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x00 },
    [5] = { .m_ave=0x34, .m_ksl=0x92, .m_atdec=0xFF, .m_susrel=0x13, .m_wave=0x00, .c_ave=0x23, .c_ksl=0x00, .c_atdec=0xF4, .c_susrel=0xF7, .c_wave=0x00, .feedback=0x0A },
    [6] = { .m_ave=0x31, .m_ksl=0x81, .m_atdec=0xA1, .m_susrel=0x30, .m_wave=0x00, .c_ave=0x16, .c_ksl=0x80, .c_atdec=0xC2, .c_susrel=0x74, .c_wave=0x00, .feedback=0x08 },
    [7] = { .m_ave=0x23, .m_ksl=0x8A, .m_atdec=0xF2, .m_susrel=0x7B, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x80, .c_atdec=0xF4, .c_susrel=0x7B, .c_wave=0x00, .feedback=0x08 },
    [8] = { .m_ave=0x32, .m_ksl=0x80, .m_atdec=0x01, .m_susrel=0x10, .m_wave=0x00, .c_ave=0x12, .c_ksl=0x80, .c_atdec=0x72, .c_susrel=0x33, .c_wave=0x00, .feedback=0x08 },
    [9] = { .m_ave=0x16, .m_ksl=0x4D, .m_atdec=0xFA, .m_susrel=0x11, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0xF1, .c_susrel=0xF1, .c_wave=0x00, .feedback=0x08 },
    [10] = { .m_ave=0xD6, .m_ksl=0x4D, .m_atdec=0xFA, .m_susrel=0x11, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0xF5, .c_susrel=0xF5, .c_wave=0x00, .feedback=0x08 },
    [11] = { .m_ave=0x45, .m_ksl=0x4E, .m_atdec=0xDA, .m_susrel=0x15, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x80, .c_atdec=0xF3, .c_susrel=0xF6, .c_wave=0x00, .feedback=0x00 },
    [12] = { .m_ave=0x04, .m_ksl=0x00, .m_atdec=0xFE, .m_susrel=0xF0, .m_wave=0x00, .c_ave=0xC2, .c_ksl=0x00, .c_atdec=0xF6, .c_susrel=0xB5, .c_wave=0x00, .feedback=0x0E },
    [13] = { .m_ave=0x05, .m_ksl=0x05, .m_atdec=0xFE, .m_susrel=0x65, .m_wave=0x00, .c_ave=0xC4, .c_ksl=0x00, .c_atdec=0xF8, .c_susrel=0x85, .c_wave=0x00, .feedback=0x0E },
    [14] = { .m_ave=0xD7, .m_ksl=0x4F, .m_atdec=0xF2, .m_susrel=0x61, .m_wave=0x00, .c_ave=0xD2, .c_ksl=0x00, .c_atdec=0xF1, .c_susrel=0xB2, .c_wave=0x00, .feedback=0x08 },
    [15] = { .m_ave=0x11, .m_ksl=0x11, .m_atdec=0xFE, .m_susrel=0x04, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x00, .c_atdec=0xF2, .c_susrel=0xBD, .c_wave=0x00, .feedback=0x08 },
    [16] = { .m_ave=0x64, .m_ksl=0x86, .m_atdec=0xFF, .m_susrel=0x0F, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xFF, .c_susrel=0x0F, .c_wave=0x00, .feedback=0x01 },
    [17] = { .m_ave=0x2B, .m_ksl=0xCA, .m_atdec=0xF8, .m_susrel=0xE5, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xC0, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x00 },
    [18] = { .m_ave=0x2C, .m_ksl=0xD4, .m_atdec=0xF9, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0xA1, .c_ksl=0x00, .c_atdec=0xC0, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x00 },
    [19] = { .m_ave=0x64, .m_ksl=0x86, .m_atdec=0xFF, .m_susrel=0x0F, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xFF, .c_susrel=0x0F, .c_wave=0x00, .feedback=0x01 },
    [20] = { .m_ave=0xE2, .m_ksl=0xCA, .m_atdec=0xF8, .m_susrel=0xE5, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0xC0, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x08 },
    [21] = { .m_ave=0x64, .m_ksl=0xC9, .m_atdec=0xB0, .m_susrel=0x01, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x70, .c_susrel=0x87, .c_wave=0x00, .feedback=0x02 },
    [22] = { .m_ave=0x24, .m_ksl=0x4F, .m_atdec=0xF2, .m_susrel=0x06, .m_wave=0x00, .c_ave=0x31, .c_ksl=0x00, .c_atdec=0x52, .c_susrel=0x06, .c_wave=0x00, .feedback=0x0E },
    [23] = { .m_ave=0x24, .m_ksl=0x54, .m_atdec=0x55, .m_susrel=0xFD, .m_wave=0x00, .c_ave=0x31, .c_ksl=0x00, .c_atdec=0x50, .c_susrel=0x2D, .c_wave=0x00, .feedback=0x0E },
    [24] = { .m_ave=0x01, .m_ksl=0x4D, .m_atdec=0xF1, .m_susrel=0x55, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x02, .c_atdec=0xF1, .c_susrel=0x74, .c_wave=0x00, .feedback=0x06 },
    [25] = { .m_ave=0x01, .m_ksl=0x90, .m_atdec=0xF1, .m_susrel=0x56, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x04, .c_atdec=0xF1, .c_susrel=0x76, .c_wave=0x00, .feedback=0x06 },
    [26] = { .m_ave=0x33, .m_ksl=0x24, .m_atdec=0xD2, .m_susrel=0xC1, .m_wave=0x01, .c_ave=0x31, .c_ksl=0x00, .c_atdec=0xF1, .c_susrel=0x9C, .c_wave=0x00, .feedback=0x0E },
    [27] = { .m_ave=0x53, .m_ksl=0x16, .m_atdec=0xF2, .m_susrel=0xC8, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x40, .c_atdec=0xF2, .c_susrel=0xC5, .c_wave=0x00, .feedback=0x04 },
    [28] = { .m_ave=0x53, .m_ksl=0x20, .m_atdec=0xF2, .m_susrel=0xC8, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x00, .c_atdec=0xF2, .c_susrel=0xC5, .c_wave=0x00, .feedback=0x04 },
    [29] = { .m_ave=0x11, .m_ksl=0x43, .m_atdec=0xF1, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x54, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0xFF, .c_wave=0x03, .feedback=0x08 },
    [30] = { .m_ave=0x11, .m_ksl=0x43, .m_atdec=0xF1, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x54, .c_ksl=0x40, .c_atdec=0xF0, .c_susrel=0xFF, .c_wave=0x03, .feedback=0x08 },
    [31] = { .m_ave=0xCA, .m_ksl=0x4E, .m_atdec=0xF0, .m_susrel=0xF0, .m_wave=0x00, .c_ave=0xEC, .c_ksl=0x00, .c_atdec=0x59, .c_susrel=0x68, .c_wave=0x00, .feedback=0x0C },
    [32] = { .m_ave=0x21, .m_ksl=0x15, .m_atdec=0xD3, .m_susrel=0x2C, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xC3, .c_susrel=0x2C, .c_wave=0x00, .feedback=0x0A },
    [33] = { .m_ave=0x01, .m_ksl=0x18, .m_atdec=0xD4, .m_susrel=0xF2, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xC4, .c_susrel=0x8A, .c_wave=0x00, .feedback=0x0A },
    [34] = { .m_ave=0x21, .m_ksl=0x4E, .m_atdec=0xF0, .m_susrel=0x7B, .m_wave=0x00, .c_ave=0x31, .c_ksl=0x00, .c_atdec=0xF3, .c_susrel=0xC8, .c_wave=0x00, .feedback=0x04 },
    [35] = { .m_ave=0x01, .m_ksl=0x18, .m_atdec=0xD4, .m_susrel=0xF2, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0x84, .c_susrel=0x8A, .c_wave=0x00, .feedback=0x0A },
    [36] = { .m_ave=0x53, .m_ksl=0x0E, .m_atdec=0xF4, .m_susrel=0xC8, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x0B, .c_atdec=0xF1, .c_susrel=0xBB, .c_wave=0x00, .feedback=0x04 },
    [37] = { .m_ave=0x00, .m_ksl=0x1D, .m_atdec=0xB4, .m_susrel=0x7A, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xC3, .c_susrel=0x7C, .c_wave=0x00, .feedback=0x00 },
    [38] = { .m_ave=0x30, .m_ksl=0x16, .m_atdec=0x73, .m_susrel=0x7E, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x80, .c_susrel=0x9E, .c_wave=0x00, .feedback=0x0E },
    [39] = { .m_ave=0x11, .m_ksl=0x0A, .m_atdec=0xFE, .m_susrel=0x04, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x00, .c_atdec=0xF2, .c_susrel=0xBD, .c_wave=0x00, .feedback=0x08 },
    [40] = { .m_ave=0x71, .m_ksl=0x56, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [41] = { .m_ave=0x71, .m_ksl=0x20, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [42] = { .m_ave=0x71, .m_ksl=0x1E, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [43] = { .m_ave=0x71, .m_ksl=0x1E, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [44] = { .m_ave=0x71, .m_ksl=0x1C, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x23, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [45] = { .m_ave=0x00, .m_ksl=0x0B, .m_atdec=0xA8, .m_susrel=0x4C, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xD6, .c_susrel=0x4F, .c_wave=0x00, .feedback=0x00 },
    [46] = { .m_ave=0x02, .m_ksl=0x29, .m_atdec=0xF5, .m_susrel=0x75, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x80, .c_atdec=0xF2, .c_susrel=0xF3, .c_wave=0x00, .feedback=0x00 },
    [47] = { .m_ave=0x00, .m_ksl=0x7F, .m_atdec=0xF3, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x02, .c_ksl=0x00, .c_atdec=0xF7, .c_susrel=0x94, .c_wave=0x00, .feedback=0x0F },
    [48] = { .m_ave=0xF1, .m_ksl=0x18, .m_atdec=0x32, .m_susrel=0x14, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0xF1, .c_susrel=0x16, .c_wave=0x00, .feedback=0x00 },
    [49] = { .m_ave=0x31, .m_ksl=0x8B, .m_atdec=0x41, .m_susrel=0x11, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x22, .c_susrel=0x13, .c_wave=0x00, .feedback=0x06 },
    [50] = { .m_ave=0xF1, .m_ksl=0x18, .m_atdec=0x32, .m_susrel=0x11, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0x51, .c_susrel=0x14, .c_wave=0x00, .feedback=0x00 },
    [51] = { .m_ave=0x21, .m_ksl=0x8A, .m_atdec=0x32, .m_susrel=0x31, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x32, .c_susrel=0x15, .c_wave=0x00, .feedback=0x02 },
    [52] = { .m_ave=0x61, .m_ksl=0x98, .m_atdec=0x72, .m_susrel=0x88, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x80, .c_atdec=0x50, .c_susrel=0x16, .c_wave=0x00, .feedback=0x02 },
    [53] = { .m_ave=0x61, .m_ksl=0xA7, .m_atdec=0x72, .m_susrel=0x8B, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x81, .c_atdec=0x80, .c_susrel=0x17, .c_wave=0x00, .feedback=0x02 },
    [54] = { .m_ave=0x41, .m_ksl=0x4F, .m_atdec=0xF1, .m_susrel=0x73, .m_wave=0x01, .c_ave=0x41, .c_ksl=0x10, .c_atdec=0x52, .c_susrel=0x74, .c_wave=0x00, .feedback=0x06 },
    [55] = { .m_ave=0x11, .m_ksl=0x03, .m_atdec=0x84, .m_susrel=0x94, .m_wave=0x00, .c_ave=0xE4, .c_ksl=0x40, .c_atdec=0xF4, .c_susrel=0xF4, .c_wave=0x00, .feedback=0x08 },
    [56] = { .m_ave=0x61, .m_ksl=0x19, .m_atdec=0x73, .m_susrel=0x57, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0C },
    [57] = { .m_ave=0x31, .m_ksl=0x1F, .m_atdec=0x41, .m_susrel=0x06, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x36, .c_wave=0x00, .feedback=0x0C },
    [58] = { .m_ave=0x61, .m_ksl=0x19, .m_atdec=0x53, .m_susrel=0x56, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x16, .c_wave=0x00, .feedback=0x0C },
    [59] = { .m_ave=0x71, .m_ksl=0x1C, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x67, .c_wave=0x00, .feedback=0x0E },
    [60] = { .m_ave=0x21, .m_ksl=0x9A, .m_atdec=0x53, .m_susrel=0x56, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xA0, .c_susrel=0x16, .c_wave=0x00, .feedback=0x0E },
    [61] = { .m_ave=0x61, .m_ksl=0x19, .m_atdec=0x73, .m_susrel=0x57, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0C },
    [62] = { .m_ave=0x21, .m_ksl=0x1B, .m_atdec=0x71, .m_susrel=0xA6, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA1, .c_susrel=0x96, .c_wave=0x00, .feedback=0x0E },
    [63] = { .m_ave=0x61, .m_ksl=0x1C, .m_atdec=0x63, .m_susrel=0x57, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0C },
    [64] = { .m_ave=0x21, .m_ksl=0x1B, .m_atdec=0x63, .m_susrel=0x0A, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x63, .c_susrel=0x0B, .c_wave=0x00, .feedback=0x0C },
    [65] = { .m_ave=0x21, .m_ksl=0x16, .m_atdec=0x63, .m_susrel=0x0E, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x63, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x0C },
    [66] = { .m_ave=0x31, .m_ksl=0x16, .m_atdec=0x63, .m_susrel=0x0A, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x63, .c_susrel=0x0B, .c_wave=0x00, .feedback=0x0C },
    [67] = { .m_ave=0x20, .m_ksl=0x1B, .m_atdec=0x63, .m_susrel=0x0A, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0x63, .c_susrel=0x0B, .c_wave=0x00, .feedback=0x0C },
    [68] = { .m_ave=0x70, .m_ksl=0x8D, .m_atdec=0x6E, .m_susrel=0x17, .m_wave=0x00, .c_ave=0x22, .c_ksl=0x00, .c_atdec=0x6B, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x02 },
    [69] = { .m_ave=0x70, .m_ksl=0x16, .m_atdec=0x71, .m_susrel=0x0E, .m_wave=0x00, .c_ave=0x23, .c_ksl=0x07, .c_atdec=0x78, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x0E },
    [70] = { .m_ave=0x31, .m_ksl=0x45, .m_atdec=0x87, .m_susrel=0x17, .m_wave=0x00, .c_ave=0x22, .c_ksl=0x00, .c_atdec=0x8B, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x02 },
    [71] = { .m_ave=0x32, .m_ksl=0x1C, .m_atdec=0x82, .m_susrel=0x18, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0x07, .c_wave=0x00, .feedback=0x0C },
    [72] = { .m_ave=0xA2, .m_ksl=0x1D, .m_atdec=0x95, .m_susrel=0x24, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x02 },
    [73] = { .m_ave=0xA1, .m_ksl=0x13, .m_atdec=0xD6, .m_susrel=0xAF, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x02 },
    [74] = { .m_ave=0xA2, .m_ksl=0x1D, .m_atdec=0x98, .m_susrel=0x24, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x02 },
    [75] = { .m_ave=0xA1, .m_ksl=0x13, .m_atdec=0xD6, .m_susrel=0x4F, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x02 },
    [76] = { .m_ave=0x53, .m_ksl=0x85, .m_atdec=0x3F, .m_susrel=0x06, .m_wave=0x01, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0x5F, .c_susrel=0x07, .c_wave=0x00, .feedback=0x06 },
    [77] = { .m_ave=0xE0, .m_ksl=0xEC, .m_atdec=0x6E, .m_susrel=0x8F, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x65, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x0E },
    [78] = { .m_ave=0xF5, .m_ksl=0x9A, .m_atdec=0x0C, .m_susrel=0xC7, .m_wave=0x00, .c_ave=0xF6, .c_ksl=0x80, .c_atdec=0x60, .c_susrel=0xA5, .c_wave=0x00, .feedback=0x0D },
    [79] = { .m_ave=0xE2, .m_ksl=0xCA, .m_atdec=0xF8, .m_susrel=0xE5, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0x70, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x08 },
    [80] = { .m_ave=0x21, .m_ksl=0x1D, .m_atdec=0xF2, .m_susrel=0x0F, .m_wave=0x03, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xF2, .c_susrel=0x18, .c_wave=0x00, .feedback=0x00 },
    [81] = { .m_ave=0x41, .m_ksl=0x11, .m_atdec=0xF0, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x0A },
    [82] = { .m_ave=0xA4, .m_ksl=0x12, .m_atdec=0xF4, .m_susrel=0x30, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x8B, .c_atdec=0x60, .c_susrel=0x2A, .c_wave=0x00, .feedback=0x02 },
    [83] = { .m_ave=0xE2, .m_ksl=0xCA, .m_atdec=0xF8, .m_susrel=0xE5, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x00, .c_atdec=0xC0, .c_susrel=0x0E, .c_wave=0x00, .feedback=0x08 },
    [84] = { .m_ave=0x01, .m_ksl=0xCE, .m_atdec=0xF1, .m_susrel=0xBD, .m_wave=0x00, .c_ave=0x02, .c_ksl=0x80, .c_atdec=0xF1, .c_susrel=0x9F, .c_wave=0x03, .feedback=0x00 },
    [85] = { .m_ave=0x61, .m_ksl=0x19, .m_atdec=0x73, .m_susrel=0x57, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x00, .c_atdec=0xA0, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0C },
    [86] = { .m_ave=0x41, .m_ksl=0x0E, .m_atdec=0xF1, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x09, .c_atdec=0xF0, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x0A },
    [87] = { .m_ave=0x31, .m_ksl=0x44, .m_atdec=0xF2, .m_susrel=0x9A, .m_wave=0x00, .c_ave=0x32, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0x27, .c_wave=0x00, .feedback=0x06 },
    [88] = { .m_ave=0x07, .m_ksl=0x51, .m_atdec=0xF5, .m_susrel=0x33, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0x25, .c_wave=0x00, .feedback=0x06 },
    [89] = { .m_ave=0x21, .m_ksl=0x8E, .m_atdec=0x21, .m_susrel=0x13, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x22, .c_susrel=0x13, .c_wave=0x00, .feedback=0x06 },
    [90] = { .m_ave=0x30, .m_ksl=0x90, .m_atdec=0xF4, .m_susrel=0x49, .m_wave=0x00, .c_ave=0x30, .c_ksl=0x00, .c_atdec=0xF4, .c_susrel=0x33, .c_wave=0x00, .feedback=0x0C },
    [91] = { .m_ave=0x31, .m_ksl=0x8E, .m_atdec=0xFF, .m_susrel=0x21, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x01, .c_atdec=0x94, .c_susrel=0x15, .c_wave=0x00, .feedback=0x0A },
    [92] = { .m_ave=0xCA, .m_ksl=0x4E, .m_atdec=0xF0, .m_susrel=0xF0, .m_wave=0x00, .c_ave=0xCC, .c_ksl=0x00, .c_atdec=0x59, .c_susrel=0x64, .c_wave=0x00, .feedback=0x0C },
    [93] = { .m_ave=0x18, .m_ksl=0x4D, .m_atdec=0x32, .m_susrel=0x13, .m_wave=0x00, .c_ave=0xE1, .c_ksl=0x0C, .c_atdec=0x51, .c_susrel=0xE3, .c_wave=0x00, .feedback=0x08 },
    [94] = { .m_ave=0x01, .m_ksl=0x43, .m_atdec=0x20, .m_susrel=0x15, .m_wave=0x00, .c_ave=0xF1, .c_ksl=0x00, .c_atdec=0x21, .c_susrel=0xF2, .c_wave=0x00, .feedback=0x08 },
    [95] = { .m_ave=0x11, .m_ksl=0x92, .m_atdec=0x20, .m_susrel=0x13, .m_wave=0x00, .c_ave=0xF1, .c_ksl=0x00, .c_atdec=0x31, .c_susrel=0xF2, .c_wave=0x00, .feedback=0x08 },
    [96] = { .m_ave=0x34, .m_ksl=0x91, .m_atdec=0xFF, .m_susrel=0x10, .m_wave=0x00, .c_ave=0x03, .c_ksl=0x00, .c_atdec=0xFF, .c_susrel=0x04, .c_wave=0x00, .feedback=0x0A },
    [97] = { .m_ave=0x17, .m_ksl=0xC0, .m_atdec=0x12, .m_susrel=0x41, .m_wave=0x00, .c_ave=0x31, .c_ksl=0x80, .c_atdec=0x13, .c_susrel=0x31, .c_wave=0x00, .feedback=0x06 },
    [98] = { .m_ave=0xB3, .m_ksl=0x4A, .m_atdec=0xB6, .m_susrel=0x32, .m_wave=0x00, .c_ave=0xB0, .c_ksl=0x00, .c_atdec=0xD1, .c_susrel=0x31, .c_wave=0x00, .feedback=0x0E },
    [99] = { .m_ave=0x03, .m_ksl=0x8F, .m_atdec=0xF5, .m_susrel=0x55, .m_wave=0x00, .c_ave=0x21, .c_ksl=0x80, .c_atdec=0xF3, .c_susrel=0x33, .c_wave=0x00, .feedback=0x00 },
    [100] = { .m_ave=0x73, .m_ksl=0x48, .m_atdec=0xF1, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x71, .c_ksl=0x0B, .c_atdec=0xF1, .c_susrel=0x03, .c_wave=0x00, .feedback=0x08 },
    [101] = { .m_ave=0x21, .m_ksl=0x8B, .m_atdec=0x11, .m_susrel=0x14, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x12, .c_susrel=0x13, .c_wave=0x00, .feedback=0x02 },
    [102] = { .m_ave=0x11, .m_ksl=0x03, .m_atdec=0x82, .m_susrel=0x97, .m_wave=0x00, .c_ave=0xE4, .c_ksl=0x40, .c_atdec=0xF0, .c_susrel=0xF3, .c_wave=0x00, .feedback=0x08 },
    [103] = { .m_ave=0xB4, .m_ksl=0x87, .m_atdec=0xA4, .m_susrel=0x02, .m_wave=0x00, .c_ave=0xD7, .c_ksl=0x80, .c_atdec=0x40, .c_susrel=0x42, .c_wave=0x00, .feedback=0x06 },
    [104] = { .m_ave=0x01, .m_ksl=0x40, .m_atdec=0xF1, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x08, .c_ksl=0x40, .c_atdec=0xF1, .c_susrel=0x53, .c_wave=0x00, .feedback=0x00 },
    [105] = { .m_ave=0x31, .m_ksl=0x87, .m_atdec=0xA1, .m_susrel=0x11, .m_wave=0x00, .c_ave=0x16, .c_ksl=0x80, .c_atdec=0x7D, .c_susrel=0x45, .c_wave=0x00, .feedback=0x08 },
    [106] = { .m_ave=0x00, .m_ksl=0x50, .m_atdec=0xF2, .m_susrel=0x70, .m_wave=0x00, .c_ave=0x13, .c_ksl=0x0B, .c_atdec=0xF2, .c_susrel=0x72, .c_wave=0x00, .feedback=0x0E },
    [107] = { .m_ave=0x00, .m_ksl=0x40, .m_atdec=0x09, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x02, .c_ksl=0x00, .c_atdec=0xF7, .c_susrel=0x94, .c_wave=0x00, .feedback=0x0E },
    [108] = { .m_ave=0x05, .m_ksl=0x05, .m_atdec=0xFE, .m_susrel=0x65, .m_wave=0x00, .c_ave=0xC4, .c_ksl=0x00, .c_atdec=0xF8, .c_susrel=0x85, .c_wave=0x00, .feedback=0x0E },
    [109] = { .m_ave=0x01, .m_ksl=0x11, .m_atdec=0xF0, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0xF8, .c_wave=0x00, .feedback=0x0A },
    [110] = { .m_ave=0x71, .m_ksl=0x56, .m_atdec=0x51, .m_susrel=0x03, .m_wave=0x00, .c_ave=0x61, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0x17, .c_wave=0x00, .feedback=0x0E },
    [111] = { .m_ave=0x30, .m_ksl=0x16, .m_atdec=0x71, .m_susrel=0xEE, .m_wave=0x00, .c_ave=0x23, .c_ksl=0x00, .c_atdec=0x88, .c_susrel=0x1E, .c_wave=0x00, .feedback=0x0E },
    [112] = { .m_ave=0x87, .m_ksl=0x91, .m_atdec=0xF5, .m_susrel=0x55, .m_wave=0x00, .c_ave=0x22, .c_ksl=0x00, .c_atdec=0xF0, .c_susrel=0x54, .c_wave=0x00, .feedback=0x06 },
    [113] = { .m_ave=0x95, .m_ksl=0x81, .m_atdec=0xE7, .m_susrel=0x01, .m_wave=0x00, .c_ave=0x16, .c_ksl=0x00, .c_atdec=0x96, .c_susrel=0x67, .c_wave=0x00, .feedback=0x04 },
    [114] = { .m_ave=0x09, .m_ksl=0x4E, .m_atdec=0xDA, .m_susrel=0x25, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xF1, .c_susrel=0x15, .c_wave=0x00, .feedback=0x0A },
    [115] = { .m_ave=0x32, .m_ksl=0x44, .m_atdec=0xF8, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x11, .c_ksl=0x00, .c_atdec=0xF5, .c_susrel=0x7F, .c_wave=0x00, .feedback=0x0E },
    [116] = { .m_ave=0x00, .m_ksl=0x3F, .m_atdec=0x39, .m_susrel=0xF3, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xFF, .c_susrel=0x05, .c_wave=0x00, .feedback=0x01 },
    [117] = { .m_ave=0x32, .m_ksl=0x44, .m_atdec=0xF8, .m_susrel=0xFF, .m_wave=0x00, .c_ave=0x01, .c_ksl=0x00, .c_atdec=0xF5, .c_susrel=0xF8, .c_wave=0x00, .feedback=0x0E },
    [118] = { .m_ave=0x00, .m_ksl=0x0D, .m_atdec=0xE8, .m_susrel=0xEF, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xA5, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x06 },
    [119] = { .m_ave=0x07, .m_ksl=0x00, .m_atdec=0xF0, .m_susrel=0xF0, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0x5C, .c_susrel=0xDC, .c_wave=0x00, .feedback=0x0E },
    [120] = { .m_ave=0x32, .m_ksl=0x21, .m_atdec=0x34, .m_susrel=0xB3, .m_wave=0x01, .c_ave=0x31, .c_ksl=0x00, .c_atdec=0x54, .c_susrel=0xF7, .c_wave=0x03, .feedback=0x0E },
    [121] = { .m_ave=0x20, .m_ksl=0x5B, .m_atdec=0x00, .m_susrel=0x16, .m_wave=0x00, .c_ave=0xE2, .c_ksl=0x80, .c_atdec=0x50, .c_susrel=0x15, .c_wave=0x00, .feedback=0x0A },
    [122] = { .m_ave=0x0F, .m_ksl=0x40, .m_atdec=0xD1, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x0B, .c_atdec=0x22, .c_susrel=0x56, .c_wave=0x00, .feedback=0x0E },
    [123] = { .m_ave=0x1C, .m_ksl=0x1E, .m_atdec=0xE5, .m_susrel=0x5B, .m_wave=0x00, .c_ave=0x0C, .c_ksl=0x0B, .c_atdec=0x5D, .c_susrel=0xFA, .c_wave=0x00, .feedback=0x0E },
    [124] = { .m_ave=0xB0, .m_ksl=0xC4, .m_atdec=0xA4, .m_susrel=0x02, .m_wave=0x00, .c_ave=0xD7, .c_ksl=0x89, .c_atdec=0x40, .c_susrel=0x42, .c_wave=0x00, .feedback=0x00 },
    [125] = { .m_ave=0x0F, .m_ksl=0x40, .m_atdec=0xD1, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x0B, .c_atdec=0x22, .c_susrel=0x56, .c_wave=0x00, .feedback=0x0E },
    [126] = { .m_ave=0x00, .m_ksl=0x40, .m_atdec=0xD1, .m_susrel=0x53, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x0B, .c_atdec=0x62, .c_susrel=0x56, .c_wave=0x00, .feedback=0x0E },
    [127] = { .m_ave=0x06, .m_ksl=0x00, .m_atdec=0xF4, .m_susrel=0xA0, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xF6, .c_susrel=0x46, .c_wave=0x00, .feedback=0x0E },
};

const OPL_Patch drum_bd    = { .m_ave=0x00, .m_ksl=0x0D, .m_atdec=0xE8, .m_susrel=0xEF, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xA5, .c_susrel=0xFF, .c_wave=0x00, .feedback=0x06 };
const OPL_Patch drum_snare = { .m_ave=0x06, .m_ksl=0x00, .m_atdec=0xF0, .m_susrel=0xF0, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xF7, .c_susrel=0xF7, .c_wave=0x00, .feedback=0x0E };
const OPL_Patch drum_hihat = { .m_ave=0x05, .m_ksl=0x00, .m_atdec=0xF0, .m_susrel=0x77, .m_wave=0x00, .c_ave=0x00, .c_ksl=0x00, .c_atdec=0xFA, .c_susrel=0xEA, .c_wave=0x00, .feedback=0x0E };

// Ensure the Patch Setup hits the correct OPL2 operators
void OPL_SetPatch(uint8_t channel, const OPL_Patch* p) {
    static const uint8_t mod_offsets[] = {0x00,0x01,0x02,0x08,0x09,0x0A,0x10,0x11,0x12};
    static const uint8_t car_offsets[] = {0x03,0x04,0x05,0x0B,0x0C,0x0D,0x13,0x14,0x15};
    
    uint8_t m = mod_offsets[channel];
    uint8_t c = car_offsets[channel];

    // Save KSL for volume calculations
    // shadow_ksl_c[channel] = p->c_ksl;
    const uint8_t* p_bytes = (const uint8_t*)p;

    opl_write(0x20 + m, p->m_ave);
    opl_write(0x20 + c, p->c_ave);
    opl_write(0x40 + m, p->m_ksl);
    opl_write(0x40 + c, p->c_ksl);
    opl_write(0x60 + m, p->m_atdec);
    opl_write(0x60 + c, p->c_atdec);
    opl_write(0x80 + m, p->m_susrel);
    opl_write(0x80 + c, p->c_susrel);
    opl_write(0xE0 + m, p->m_wave);
    opl_write(0xE0 + c, p->c_wave);
    opl_write(0xC0 + channel, p->feedback);
}